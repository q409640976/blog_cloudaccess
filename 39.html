<!DOCTYPE html>
<html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>WordPress web converted to flat file S3 – Part 2 – fast ok</title><link rel="dns-prefetch" href="//fonts.googleapis.com"><link rel="dns-prefetch" href="//s.w.org"><link rel="stylesheet" id="wp-block-library-css" href="https://liming.imfast.io/wp-includes/css/dist/block-library/style.min.css" type="text/css" media="all"><link rel="stylesheet" id="bluegray-style-css" href="https://liming.imfast.io/wp-content/themes/bluegray/style.css" type="text/css" media="all"><link rel="stylesheet" id="bluegray-googlefonts-css" href="//fonts.googleapis.com/css?family=Open+Sans&ver=5.4" type="text/css" media="all"><script type="text/javascript" src="https://liming.imfast.io/wp-includes/js/jquery/jquery.js"></script><script type="text/javascript" src="https://liming.imfast.io/wp-includes/js/jquery/jquery-migrate.min.js"></script><script type="text/javascript" src="https://liming.imfast.io/wp-content/themes/bluegray/js/nav.js"></script><style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style></head><body class="post-template-default single single-post postid-39 single-format-standard">

<div id="container">
	<div id="header-first">
		<div class="logo">
							<h1><a href="https://liming.imfast.io/" title="fast ok">fast ok</a></h1>
									<div class="site-tagline">one month</div>
									</div>
	</div>

	<div id="header-second">
		
			</div>

	<div id="main-content">
		<div id="content">
	
		<div id="post-39" class="post-single post-39 post type-post status-publish format-standard hentry category-uncategorized">
			<h1 class="post-title-single entry-title">WordPress web converted to flat file S3 – Part 2</h1>

			
<div class="postmetadata">
	Posted on <a href="https://liming.imfast.io/39.html"><time class="updated" datetime="2020-04-29T19:12:29+08:00">2020-04-29</time></a> | 
	By <span class="author vcard"><a class="url fn" href="https://liming.imfast.io/author/apvffqbd">admin</a></span>	</div>

			<div class="entry-content">
				<div>
<p>We now have the website uploaded and working using an S3 bucket link, lets now add the DNS to AWS</p>
<p>I registered the DNS name isitdevops.com using the AWS Route53 menus. This automatically creates the hosted zone for “isitdevops.com”</p>
<p>Using the AWS documentation create the Route53 DNS entry.</p>
<p><a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/website-hosting-custom-domain-walkthrough.html">https://docs.aws.amazon.com/AmazonS3/latest/dev/website-hosting-custom-domain-walkthrough.html</a> </p>
<pre class="wp-block-verse">Register a domain at the AWS Route53 console.</pre>
<pre class="wp-block-verse">In the Route53 console:<br>Choose Hosted Zones. In the list of hosted zones, choose the name of the hosted zone that matches your domain name. <br><br>Choose <strong>Create Record Set<br></strong></pre>
<pre class="wp-block-verse">Specify the following values:<br><strong>Name</strong> Accept the default value, which is the name of your hosted zone and your domain.<br>For the root domain, you do not need to enter any additional information in the <strong>Name</strong> field.<br><strong>Type</strong>, Choose <strong>A – IPv4 address</strong>.                                                                                                                                                                                                                  <strong>Alias</strong>, Choose <strong>Yes</strong>.                                                                                                                                                                                                                  <strong>Alias Target</strong> In the <strong>S3 website endpoints</strong> section of the list, choose the same bucket name that appears in the <strong>Name</strong> field, for example <code><em><code class="">example</code></em>.com (s3-website-us-west-2)</code>.                                                                                                                                                                                                                                                       <strong>Routing Policy</strong> Accept the default value of <strong>Simple</strong>.<br><strong>Evaluate Target Health </strong>Accept the default value of <strong>No</strong>.<br>The screenshot below shows the alias record for the root domain,                                <code>isitdevops.com</code>: <br></pre>
<div class="wp-block-image">
<figure class="aligncenter size-large is-resized"><img src="http://devops.isitdevops.com/wp-content/uploads/2019/12/S3-10.2-3-1024x618.png" alt="" class="wp-image-534" width="503" height="304" srcset="http://devops.isitdevops.com/wp-content/uploads/2019/12/S3-10.2-3-1024x618.png 1024w,http://devops.isitdevops.com/wp-content/uploads/2019/12/S3-10.2-3-300x181.png 300w,http://devops.isitdevops.com/wp-content/uploads/2019/12/S3-10.2-3-768x464.png 768w,http://devops.isitdevops.com/wp-content/uploads/2019/12/S3-10.2-3.png 1168w" sizes="(max-width: 503px) 100vw, 503px"></figure></div>
<p>Choose <strong>Create</strong>.   </p>
<p>The website is now available as isitdevops.com    </p>
<h2>Create a subdomain</h2>
<p>i.e. create a website under the domain isitdevops.com, e.g. test.isitdevops.com</p>
<p>This website will actually be stored as a seperate S3 bucket.</p>
<p>First you will need to create an S3 bucket, e.g. “test.isitdevops.com”, set this up as a hosted website and upload the website files. Test the website works by using the Endpoint created when you setup the static website. All this is identical to the process we have follwed in part 1.</p>
<ul><li>Create the S3 bucket test.isitdevops.com</li>
<li>Ensure the bucket has public read access.</li>
<li>Upload an index.html to the bucket ensuring public read access.</li>
<li>Selecting Properties tab in the bucket set the bucket as a static web hosting bucket; note the Endpoint displayed in the popup.</li>
<li>Test the Endpoint to ensure the website is working</li>
</ul><p>In Route53 create a new hosted zone, “test.isitdevops.com”</p>
<div class="wp-block-image">
<figure class="aligncenter size-large"><img src="http://devops.isitdevops.com/wp-content/uploads/2019/12/NW1-4-1024x280.png" alt="" class="wp-image-529" srcset="http://devops.isitdevops.com/wp-content/uploads/2019/12/NW1-4-1024x280.png 1024w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW1-4-300x82.png 300w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW1-4-768x210.png 768w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW1-4-1536x421.png 1536w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW1-4-2048x561.png 2048w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW1-4-1200x329.png 1200w" sizes="(max-width: 1024px) 100vw, 1024px"></figure></div>
<p> In the test.isitdevops.com <strong>Hosted Zone</strong> page,  note the NS record set created </p>
<div class="wp-block-image">
<figure class="aligncenter size-full"><img src="http://devops.isitdevops.com/wp-content/uploads/2019/12/NW2-2-scaled.png" alt="" class="wp-image-527" srcset="http://devops.isitdevops.com/wp-content/uploads/2019/12/NW2-2-scaled.png 2560w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW2-2-300x83.png 300w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW2-2-1024x284.png 1024w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW2-2-768x213.png 768w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW2-2-1536x425.png 1536w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW2-2-2048x567.png 2048w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW2-2-1200x332.png 1200w" sizes="(max-width: 2560px) 100vw, 2560px"></figure></div>
<p>In the test.isitdevops.com <strong>Hosted Zone page</strong>, select “Create Record Set” and create an alias record set for the S3 bucket.</p>
<div class="wp-block-image">
<figure class="aligncenter size-full"><img src="http://devops.isitdevops.com/wp-content/uploads/2019/12/NW4-2-scaled.png" alt="" class="wp-image-528" srcset="http://devops.isitdevops.com/wp-content/uploads/2019/12/NW4-2-scaled.png 2560w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW4-2-300x112.png 300w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW4-2-1024x383.png 1024w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW4-2-768x287.png 768w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW4-2-1536x574.png 1536w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW4-2-2048x765.png 2048w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW4-2-1200x448.png 1200w" sizes="(max-width: 2560px) 100vw, 2560px"></figure></div>
<p>After selecting the <strong>isitdevops.com</strong> Hosted Zone on the <strong>Hosted Zones page</strong> select “Create Record Set” and enter the “test” name and the NS record values from above.</p>
<div class="wp-block-image">
<figure class="aligncenter size-full"><img src="http://devops.isitdevops.com/wp-content/uploads/2019/12/NW5-2-scaled.png" alt="" class="wp-image-530" srcset="http://devops.isitdevops.com/wp-content/uploads/2019/12/NW5-2-scaled.png 2560w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW5-2-300x110.png 300w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW5-2-1024x375.png 1024w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW5-2-768x281.png 768w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW5-2-1536x563.png 1536w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW5-2-2048x750.png 2048w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW5-2-1200x440.png 1200w" sizes="(max-width: 2560px) 100vw, 2560px"></figure></div>
<p>Wait up to 15 minutes and the web page “test.isitdevops.com” should be available.</p>
</div>

							</div>

			
<div class="postmetadata">
	Category: <a href="https://liming.imfast.io/category/uncategorized" rel="category tag">默认分类</a>			</div>
		</div>

		

<div id="comments">
	
	</div>

	
	</div>

	<div id="sidebar">
				<div id="recent-posts-4" class="widget widget_recent_entries">		<h3 class="widgettitle">近期文章</h3>		<ul><li>
					<a href="https://liming.imfast.io/39.html" aria-current="page">WordPress web converted to flat file S3 – Part 2</a>
									</li>
											<li>
					<a href="https://liming.imfast.io/38.html">WordPress web converted to flat file S3 – Part 1</a>
									</li>
											<li>
					<a href="https://liming.imfast.io/37.html">A wordpress site on S3 as flat files</a>
									</li>
											<li>
					<a href="https://liming.imfast.io/36.html">AWS Web and MariaDB on EC2 in terraform modules</a>
									</li>
											<li>
					<a href="https://liming.imfast.io/35.html">AWS Web and MariaDB on EC2 in one terraform template</a>
									</li>
					</ul></div><div id="categories-4" class="widget widget_categories"><h3 class="widgettitle">分类目录</h3>		<ul><li class="cat-item cat-item-1"><a href="https://liming.imfast.io/category/uncategorized">默认分类</a>
</li>
		</ul></div>	</div>

</div>
<div id="footer">
	
	<div class="site-info">
		Copyright 2020  <a href="https://liming.imfast.io/" title="fast ok">fast ok</a>
	</div>
</div>
</div>

</body></html>
